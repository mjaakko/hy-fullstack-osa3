(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(39)},18:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),i=n.n(o),u=(n(18),n(2)),c=n(3),s=n.n(c),l="/api/persons",m=function(e){var t=e.filter,n=e.setFilter;return a.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",a.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},f=function(e){var t=e.persons,n=e.setPersons,r=e.filter,o=e.setNotification,i=t.filter(function(e){return e.name.toLowerCase().includes(r.toLowerCase())});return a.a.createElement("ul",null,i.map(function(e){return a.a.createElement(d,Object.assign({key:e.id,persons:t,setPersons:n,setNotification:o},e))}))},d=function(e){var t=e.id,n=e.name,r=e.number,o=e.setPersons,i=e.persons,u=e.setNotification;return a.a.createElement("li",null,n," - ",r,a.a.createElement("button",{onClick:function(){window.confirm("Poista ".concat(n))&&function(e){return s.a.delete("".concat(l,"/").concat(e)).then(function(e){return e.data})}(t).then(function(){o(i.filter(function(e){return e.id!==t})),u({message:"Poistettiin ".concat(n)})}).catch(function(e){return u({type:"error",message:e.response.data.error})})}},"poista"))},p=function(e){var t=e.persons,n=e.setPersons,r=e.newName,o=e.setNewName,i=e.newNumber,u=e.setNewNumber,c=e.setNotification;return a.a.createElement("form",{onSubmit:function(e){var a;if(e.preventDefault(),t.filter(function(e){return e.name===r}).length>0){if(window.confirm("".concat(r," on jo luettelossa, korvataanko vanha numero uudella?"))){var u=t.filter(function(e){return e.name===r})[0].id;(function(e,t){return s.a.put("".concat(l,"/").concat(e),t).then(function(e){return e.data})})(u,{id:u,name:r,number:i}).then(function(e){n(t.map(function(t){return t.id!==u?t:e})),c({message:"P\xe4ivitettiin ".concat(e.name," numero")})}).catch(function(e){return c({type:"error",message:e.response.data.error})}),o("")}}else(a={name:r,number:i},s.a.post(l,a).then(function(e){return e.data})).then(function(e){n(t.concat(e)),c({message:"Lis\xe4ttiin ".concat(e.name)})}).catch(function(e){return c({type:"error",message:e.response.data.error})}),o("")}},a.a.createElement("div",null,"nimi: ",a.a.createElement("input",{value:r,onChange:function(e){return o(e.target.value)}})),a.a.createElement("div",null,"numero: ",a.a.createElement("input",{value:i,onChange:function(e){return u(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},b=function(e){var t=e.type,n=e.message,o=e.setNotification;return Object(r.useEffect)(function(){return setTimeout(function(){return o(null)},5e3)},[]),a.a.createElement("div",{style:{color:"error"===t?"red":"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},n)},v=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),d=c[0],v=c[1],E=Object(r.useState)(""),g=Object(u.a)(E,2),h=g[0],N=g[1],w=Object(r.useState)(""),j=Object(u.a)(w,2),O=j[0],y=j[1],P=Object(r.useState)(null),S=Object(u.a)(P,2),k=S[0],C=S[1];return Object(r.useEffect)(function(){s.a.get(l).then(function(e){return e.data}).then(function(e){o(e)})},[]),a.a.createElement("div",null,a.a.createElement("h2",null,"Puhelinluettelo"),k&&a.a.createElement(b,Object.assign({},k,{setNotification:C})),a.a.createElement(p,{newName:d,setNewName:v,newNumber:h,setNewNumber:N,persons:n,setPersons:o,setNotification:C}),a.a.createElement("h2",null,"Numerot"),a.a.createElement(m,{filter:O,setFilter:y}),a.a.createElement(f,{persons:n,setPersons:o,filter:O,setNotification:C}))};i.a.render(a.a.createElement(v,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.fecbe4b7.chunk.js.map