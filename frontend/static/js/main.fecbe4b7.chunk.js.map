{"version":3,"sources":["services/Phonebook.js","App.js","index.js"],"names":["baseUrl","Filter","_ref","filter","setFilter","react_default","a","createElement","value","onChange","event","target","Persons","_ref2","persons","setPersons","setNotification","filtered","person","name","toLowerCase","includes","map","App_Person","Object","assign","key","id","Person","_ref3","number","onClick","window","confirm","concat","axios","delete","then","response","data","remove","message","catch","error","type","PersonForm","_ref4","newName","setNewName","newNumber","setNewNumber","onSubmit","newObject","preventDefault","length","put","update","updatedPerson","post","Notification","_ref5","useEffect","setTimeout","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","notification","get","App_Notification","App_PersonForm","App_Filter","App_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fecbe4b7.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n  \n  const remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n  }\n\n  const update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n  }\n  \n  export { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\n\nimport { getAll, create, remove, update } from './services/Phonebook'\n\nconst Filter = ({ filter, setFilter }) => {\n    return (\n        <div>\n          rajaa näytettäviä: <input value={ filter } onChange={event => setFilter(event.target.value)}/>\n        </div>\n    )\n}\n\nconst Persons = ({ persons, setPersons, filter, setNotification }) => {\n    const filtered = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    return (<ul>\n        {  \n            filtered.map(person => <Person key={ person.id } persons={ persons } setPersons={ setPersons } setNotification={ setNotification } {...person} />)\n        }\n    </ul>)\n}\n\nconst Person = ({ id, name, number, setPersons, persons, setNotification }) => (\n    <li>{ name }{\" - \"}{ number }<button onClick={() => {\n        const confirm = window.confirm(`Poista ${name}`)\n        \n        if (confirm) {\n            remove(id).then(() => {\n                setPersons(persons.filter(person => person.id !== id))\n                setNotification({ message: `Poistettiin ${name}`})\n            }).catch(error => setNotification({ type: \"error\", message: error.response.data.error}))\n        }\n    }}>poista</button></li>\n)\n\nconst PersonForm = ({ persons, setPersons, newName, setNewName, newNumber, setNewNumber, setNotification }) => (\n    <form onSubmit={(event) => {\n        event.preventDefault();\n        if (persons.filter(person => person.name === newName).length > 0) {\n          const confirm = window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)\n\n          if (confirm) {\n            const id = persons.filter(person => person.name === newName)[0].id\n            update(id, { id: id, name: newName, number: newNumber }).then(updatedPerson => {\n                setPersons(persons.map(person => person.id !== id ? person : updatedPerson))\n                setNotification({ message: `Päivitettiin ${updatedPerson.name} numero` })\n            }).catch(error => setNotification({ type: \"error\", message: error.response.data.error}))\n            setNewName('');\n          }\n        } else {\n            create({ name: newName, number: newNumber }).then(person => {\n                setPersons(persons.concat(person))\n                setNotification({ message: `Lisättiin ${person.name}`})\n            }).catch(error => setNotification({ type: \"error\", message: error.response.data.error}))\n          setNewName('');\n        }\n    }}>\n        <div>\n            nimi: <input value={ newName } onChange={event => setNewName(event.target.value)}/>\n        </div>\n        <div>\n            numero: <input value={ newNumber } onChange={event => setNewNumber(event.target.value)}/>\n        </div>\n        <div>\n            <button type=\"submit\">lisää</button>\n        </div>\n    </form>\n)\n\nconst Notification = ({ type, message, setNotification }) => {\n    useEffect(() => setTimeout(() => setNotification(null), 5000), [])\n\n    return (<div style={{\n        color: type === \"error\" ? \"red\" : \"green\",\n        background: \"lightgrey\",\n        fontSize: \"20px\",\n        borderStyle: \"solid\",\n        borderRadius: \"5px\",\n        padding: \"10px\",\n        marginBottom: \"10px\"}}>\n        { message }\n    </div>)\n}\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filter, setFilter ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n\n  useEffect(() => {\n      getAll()\n        .then(persons => {\n            setPersons(persons)\n        })\n  }, [])\n\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      { notification && <Notification {...notification} setNotification={ setNotification }/>}\n      <PersonForm newName={ newName } \n        setNewName={ setNewName } \n        newNumber={ newNumber } \n        setNewNumber={ setNewNumber } \n        persons={ persons } \n        setPersons={ setPersons }\n        setNotification={ setNotification }/>\n      <h2>Numerot</h2>\n      <Filter filter={ filter } setFilter={ setFilter }/>\n      <Persons persons={ persons } setPersons={ setPersons } filter={ filter } setNotification={ setNotification }/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}