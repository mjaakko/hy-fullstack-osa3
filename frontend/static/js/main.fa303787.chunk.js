(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(39)},18:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),i=n.n(o),u=(n(18),n(2)),c=n(3),s=n.n(c),l="/api/persons",m=function(e){var t=e.filter,n=e.setFilter;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4: ",r.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)}}))},f=function(e){var t=e.persons,n=e.setPersons,a=e.filter,o=e.setNotification,i=t.filter(function(e){return e.name.toLowerCase().includes(a.toLowerCase())});return r.a.createElement("ul",null,i.map(function(e){return r.a.createElement(d,Object.assign({key:e.id,persons:t,setPersons:n,setNotification:o},e))}))},d=function(e){var t=e.id,n=e.name,a=e.number,o=e.setPersons,i=e.persons,u=e.setNotification;return r.a.createElement("li",null,n," - ",a,r.a.createElement("button",{onClick:function(){window.confirm("Poista ".concat(n))&&function(e){return s.a.delete("".concat(l,"/").concat(e)).then(function(e){return e.data})}(t).then(function(){o(i.filter(function(e){return e.id!==t})),u({message:"Poistettiin ".concat(n)})})}},"poista"))},p=function(e){var t=e.persons,n=e.setPersons,a=e.newName,o=e.setNewName,i=e.newNumber,u=e.setNewNumber,c=e.setNotification;return r.a.createElement("form",{onSubmit:function(e){var r;if(e.preventDefault(),t.filter(function(e){return e.name===a}).length>0){if(window.confirm("".concat(a," on jo luettelossa, korvataanko vanha numero uudella?"))){var u=t.filter(function(e){return e.name===a})[0].id;(function(e,t){return s.a.put("".concat(l,"/").concat(e),t).then(function(e){return e.data})})(u,{id:u,name:a,number:i}).then(function(e){n(t.map(function(t){return t.id!==u?t:e})),c({message:"P\xe4ivitettiin ".concat(e.name," numero")})}).catch(function(e){return c({type:"error",message:"".concat(a," oli jo poistettu")})}),o("")}}else(r={name:a,number:i},s.a.post(l,r).then(function(e){return e.data})).then(function(e){n(t.concat(e)),c({message:"Lis\xe4ttiin ".concat(e.name)})}),o("")}},r.a.createElement("div",null,"nimi: ",r.a.createElement("input",{value:a,onChange:function(e){return o(e.target.value)}})),r.a.createElement("div",null,"numero: ",r.a.createElement("input",{value:i,onChange:function(e){return u(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},b=function(e){var t=e.type,n=e.message,o=e.setNotification;return Object(a.useEffect)(function(){return setTimeout(function(){return o(null)},5e3)},[]),r.a.createElement("div",{style:{color:"error"===t?"red":"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},n)},v=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),c=Object(u.a)(i,2),d=c[0],v=c[1],E=Object(a.useState)(""),g=Object(u.a)(E,2),N=g[0],w=g[1],h=Object(a.useState)(""),j=Object(u.a)(h,2),O=j[0],P=j[1],y=Object(a.useState)(null),S=Object(u.a)(y,2),k=S[0],C=S[1];return Object(a.useEffect)(function(){s.a.get(l).then(function(e){return e.data}).then(function(e){o(e)})},[]),r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),k&&r.a.createElement(b,Object.assign({},k,{setNotification:C})),r.a.createElement(p,{newName:d,setNewName:v,newNumber:N,setNewNumber:w,persons:n,setPersons:o,setNotification:C}),r.a.createElement("h2",null,"Numerot"),r.a.createElement(m,{filter:O,setFilter:P}),r.a.createElement(f,{persons:n,setPersons:o,filter:O,setNotification:C}))};i.a.render(r.a.createElement(v,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.fa303787.chunk.js.map